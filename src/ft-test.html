<dom-module id="ft-connect-wizard-configured">
    <template>
        <style>
            /* Styling for this component itself */
            :host {
                display: block;
            }

            /* Style configuration for sub-components */
            :host > * {
                /* None*/
            }
        </style>

        <!-- Wizard template -->
        <ft-connect-wizard
            style="width: 100%; height: 100%; "
            live="{{live}}"
            user-account-id="{{userAccountId}}"
            token="{{token}}"
            debug="{{debug}}"
            fake-sources="{{fakeSources}}">
        </ft-connect-wizard>
    </template>

    <script>
        Polymer({
            is: 'ft-connect-wizard-configured',
            properties: {
                live: { type: Object, notify: true, value: false },
                userAccountId: { type: String, notify: true },
                token: { type: String, notify: true },
                debug: { type: Object, notify: true, value: false },
                fakeSources: { type: Object, notify: true, value: true },
            },
            ready: function() {
                var wizard = document.getElementById("wizard");
                wizard.addEventListener('ft-connect-error', this.onWizardError);
                wizard.addEventListener('wizard-canceled-command', this.onWizardCanceledCommand);
                wizard.addEventListener('wizard-done-command', this.onWizardDoneCommand);
            },
            onWizardError: function(event) { alert(this.getErrorMessage(event)); },
            onWizardCanceledCommand: function(event) { alert("Wizard canceled"); },
            onWizardDoneCommand: function(event) { alert("Wizard done"); },
            getErrorMessage: function(event) {
                if (!event.detail) return "Wizard error";
                if (event.detail.message) return event.detail.message;
                if (!event.detail.response) return "Wizard error";
                if (event.detail.response.message) return event.detail.response.message;
                return "Wizard error";
            }
        })
    </script>
</dom-module>
